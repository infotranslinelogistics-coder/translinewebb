#!/bin/bash
# INSTALL AND RUN GUIDE

echo "======================================"
echo "Translineweb Monorepo - Setup Guide"
echo "======================================"
echo ""

# Check if node_modules exists
if [ ! -d "node_modules" ]; then
    echo "ðŸ“¦ Installing dependencies..."
    npm install --legacy-peer-deps || npm install
    echo "âœ… Dependencies installed"
else
    echo "âœ… node_modules already exists"
fi

echo ""
echo "======================================"
echo "DEVELOPMENT"
echo "======================================"
echo ""
echo "To start the dev server, run:"
echo ""
echo "  npm run dev"
echo ""
echo "Then visit:"
echo "  â€¢ Main site:   http://localhost:5173"
echo "  â€¢ Admin portal: http://localhost:5173/portal"
echo ""

echo "======================================"
echo "PRODUCTION BUILD"
echo "======================================"
echo ""
echo "To build for production, run:"
echo ""
echo "  npm run build"
echo ""
echo "This creates:"
echo "  â€¢ dist/ (main site files)"
echo "  â€¢ dist/portal/ (portal app files)"
echo ""

echo "======================================"
echo "PRODUCTION SERVER"
echo "======================================"
echo ""
echo "To run the production server, use:"
echo ""
echo "  npm start"
echo "  # or: npm run start:prod (includes build)"
echo ""
echo "Then visit:"
echo "  â€¢ Main site:   http://localhost:5000"
echo "  â€¢ Admin portal: http://localhost:5000/portal"
echo ""

echo "======================================"
echo "FILE CHANGES MADE"
echo "======================================"
echo ""
echo "âœ… Created:  dev-server.js (Express dev server)"
echo "âœ… Modified: vite.config.ts"
echo "âœ… Modified: portal/vite.config.ts"
echo "âœ… Modified: portal/index.html"
echo "âœ… Modified: server.js"
echo "âœ… Modified: package.json"
echo ""
echo "See SETUP_GUIDE.md for detailed documentation."
echo ""
